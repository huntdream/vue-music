(function(t){function e(e){for(var a,r,l=e[0],c=e[1],o=e[2],p=0,d=[];p<l.length;p++)r=l[p],i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,o||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,l=1;l<n.length;l++){var c=n[l];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={0:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var o=0;o<l.length;o++)e(l[o]);var u=c;s.push([0,1]),n()})({"+KLR":function(t,e,n){"use strict";var a=n("Z0Tf"),i=n.n(a);i.a},"/hsH":function(t,e,n){},0:function(t,e,n){t.exports=n("Vtdi")},"7DdV":function(t,e,n){},"8Wo/":function(t,e,n){"use strict";var a=n("q8lY"),i=n.n(a);i.a},OZs7:function(t,e,n){"use strict";var a=n("oVVd"),i=n.n(a);i.a},Vtdi:function(t,e,n){"use strict";n.r(e);n("yt8O"),n("VRzm");var a=n("Kw5r"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("navbar"),n("div",{staticClass:"container"},[n("router-view")],1),n("Player")],1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{class:{"top-nav":!0,"no-transparent":this.isAlpha}},[n("router-link",{staticClass:"nav-item",attrs:{to:"/","active-class":"active",exact:""}},[n("span",{staticClass:"nav-icon me"})]),n("router-link",{staticClass:"nav-item",attrs:{exact:"",to:"/music","active-class":"active"}},[n("span",{staticClass:"nav-icon music"})]),n("router-link",{staticClass:"nav-item",attrs:{to:"/community","active-class":"active"}},[n("span",{staticClass:"nav-icon community"})])],1)},l=[],c={name:"Navbar",data:function(){return{isAlpha:!1}},created:function(){window.addEventListener("scroll",this.toggleAlpha)},methods:{toggleAlpha:function(){var t=window.pageYOffset||document.documentElement.scrollTop;this.isAlpha=t>250}},destroyed:function(){window.removeEventListener("scroll",this.toggleAlpha)}},o=c,u=(n("gEUM"),n("KHd+")),p=Object(u["a"])(o,r,l,!1,null,"4b1b6403",null),d=p.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"player-wrap":!0,show:!!t.url.url}},[t.detail?n("div",{staticClass:"player"},[n("div",{staticClass:"cover"},[n("img",{attrs:{src:t.detail.al.picUrl,alt:"Cover"}})]),n("div",{staticClass:"info"},[n("p",{staticClass:"name"},[t._v(t._s(t.detail.name))]),n("p",{staticClass:"author"},[t._l(t.detail.ar,function(e){return[t._v("\n            "+t._s(e.name)+"\n        ")]})],2)]),n("div",{staticClass:"control"},[n("div",{class:["play",t.isPlaying?"playing":"paused"],on:{click:t.play}})])]):t._e(),n("audio",{ref:"player",attrs:{src:t.url?t.url.url:"",id:"player"}})])},m=[],v=n("yT7P"),y=n("L2JU"),h={name:"Player",props:{},data:function(){return{isPlaying:!1}},computed:Object(v["a"])({},Object(y["b"])({detail:function(t){return t.song.detail[0]},url:function(t){return t.song.url}})),watch:{url:function(t,e){var n=this.$refs.player;t!==e&&(n.pause(),n.load(),n.oncanplay=function(){n.play()})}},mounted:function(){var t=this,e=this.$refs.player;e.addEventListener("playing",function(){t.isPlaying=!0}),e.addEventListener("pause",function(){t.isPlaying=!1})},methods:{play:function(){var t=this.$refs.player;this.isPlaying?t.pause():t.play()}}},g=h,b=(n("8Wo/"),Object(u["a"])(g,f,m,!1,null,"2f562846",null)),_=b.exports,C={components:{Navbar:d,Player:_}},w=C,O=(n("zyWh"),Object(u["a"])(w,i,s,!1,null,null,null)),j=O.exports,E=n("jE9Z"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.userdetail.code?n("div",{staticClass:"user-wrap"},[n("div",{staticClass:"userdetail-wrap"},[n("div",{staticClass:"userdetail"},[n("img",{staticClass:"user-bg",attrs:{src:t.userdetail.profile.backgroundUrl}}),n("img",{staticClass:"user-avatar",attrs:{src:t.userdetail.profile.avatarUrl,alt:"avatar"}}),n("div",{staticClass:"user-info"},[n("p",{staticClass:"user-info-name"},[t._v("\n                    "+t._s(t.userdetail.profile.nickname)+"\n                ")])])])]),n("div",{staticClass:"user-playlist"},[n("div",{staticClass:"user-custom-playlist"},[t._l(t.userplaylist,function(e,a){return[0===a?n("div",{key:a,staticClass:"playlist-label my-playlist"},[t._v("我创建的歌单")]):t._e(),a===t.playlistcount?n("div",{key:a,staticClass:"playlist-label my-playlist"},[t._v("我收藏的歌单")]):t._e(),n("router-link",{key:e.id,staticClass:"playlist-item",attrs:{to:{name:"playlist",params:{id:e.id}},tag:"div"}},[n("div",{staticClass:"playlist-cover"},[n("img",{attrs:{src:e.coverImgUrl,alt:"cover"}})]),n("div",{staticClass:"playlist-name"},[t._v("\n                        "+t._s(e.name)+"\n                    ")])])]})],2),n("div",{staticClass:"user-subscribed-playlist"})])]):n("spinner")},$=[],x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner-wrap"},[n("div",{staticClass:"spinner"})])}],L={name:"Spinner"},S=L,M=(n("mGHb"),Object(u["a"])(S,x,k,!1,null,null,null)),V=M.exports,D={name:"Me",components:{Spinner:V},data:function(){return{}},created:function(){this.$store.dispatch("user/detail"),this.$store.dispatch("user/playlist")},computed:Object(v["a"])({},Object(y["b"])({userdetail:function(t){return t.user.detail},userplaylist:function(t){return t.user.playlist},playlistcount:function(t){return t.user.playlistcount}})),methods:{}},U=D,H=(n("+KLR"),Object(u["a"])(U,P,$,!1,null,null,null)),T=H.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Music View")])},R=[],W={name:"Music"},Z=W,K=Object(u["a"])(Z,A,R,!1,null,null,null),Y=K.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Post View")])},z=[],J={name:"Community"},X=J,G=Object(u["a"])(X,q,z,!1,null,null,null),I=G.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.playlist.name?n("div",{staticClass:"playlist-wrap"},[n("div",{staticClass:"playlist-detail-wrap"},[n("img",{attrs:{src:t.playlist.coverImgUrl,alt:"playlist.name"}}),n("h1",[t._v(t._s(t.playlist.name))])]),n("div",{staticClass:"playlist-tracks-wrap"},[t._l(t.playlist.tracks,function(t){return[n("Song",{key:t.id,attrs:{name:t.name,id:t.id}})]})],2)]):n("spinner")},B=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song",on:{click:function(e){t.play(t.id)}}},[t._v("\n  "+t._s(t.name)+"\n")])},Q=[],tt={name:"Song",props:["name","id"],computed:Object(v["a"])({},Object(y["b"])({detail:function(t){return t.song.detail}})),methods:{play:function(t){this.$store.dispatch("song/url",t),this.$store.dispatch("song/detail",t)}}},et=tt,nt=(n("OZs7"),Object(u["a"])(et,F,Q,!1,null,"0f567adf",null)),at=nt.exports,it={name:"Playlist",components:{Spinner:V,Song:at},data:function(){return{}},created:function(){this.$store.dispatch("playlist/detail",this.$route.params.id)},computed:Object(v["a"])({},Object(y["b"])({playlist:function(t){return t.playlist.detail}})),methods:{}},st=it,rt=(n("r2iu"),Object(u["a"])(st,N,B,!1,null,"b4ae831e",null)),lt=rt.exports;a["a"].use(E["a"]);var ct=new E["a"]({mode:"history",routes:[{path:"/music",name:"music",component:Y},{path:"/",name:"me",component:T},{path:"/community",name:"community",component:I},{path:"/playlist/:id",name:"playlist",component:lt}]}),ot=n("vDqi"),ut=n.n(ot);ut.a.defaults.baseURL="https://netease.maoyu.info";var pt=32693089,dt=function(){return ut.a.get("/user/detail?uid=".concat(pt)).then(function(t){return t.data})},ft=function(){return ut.a.get("/user/playlist?uid=".concat(pt)).then(function(t){return t.data})},mt=function(t){return ut.a.get("/playlist/detail?id=".concat(t)).then(function(t){return t.data})},vt=function(t){return ut.a.get("/music/url?id=".concat(t)).then(function(t){return t.data})},yt=function(t){return ut.a.get("/song/detail?ids=".concat(t)).then(function(t){return t.data})},ht={namespaced:!0,state:{detail:[],playlist:[],playlistcount:0},mutations:{saveDetail:function(t,e){t.detail=e},savePlaylist:function(t,e){t.playlist=e},setPlaylistCount:function(t,e){t.playlistcount=e}},actions:{detail:function(t){var e=t.commit;return dt().then(function(t){e("saveDetail",t),e("setPlaylistCount",t.profile.playlistCount)})},playlist:function(t){var e=t.commit;return ft().then(function(t){return e("savePlaylist",t.playlist)})}}},gt={namespaced:!0,state:{detail:[]},mutations:{clearDetail:function(t){t.detail=[]},saveDetail:function(t,e){t.detail=e}},actions:{detail:function(t,e){var n=t.commit;return n("clearDetail"),mt(e).then(function(t){return n("saveDetail",t.playlist)})}}},bt={namespaced:!0,state:{url:[],detail:[]},mutations:{url:function(t,e){t.url=e},detail:function(t,e){t.detail=e}},actions:{url:function(t,e){var n=t.commit;return vt(e).then(function(t){n("url","number"===typeof e?t.data[0]:t.data)})},detail:function(t,e){var n=t.commit;return yt(e).then(function(t){n("detail",t.songs)})}}};a["a"].use(y["a"]);var _t=new y["a"].Store({modules:{user:ht,playlist:gt,song:bt}}),Ct={inserted:function(t){var e=document.createElement("div"),n=document.createElement("span");e.appendChild(n),e.classList.add("ripple-container"),n.classList.add("ripple"),t.addEventListener("mousedown",function(a){var i=a.pageX,s=a.pageY,r=t.getBoundingClientRect(),l=r.left,c=r.top,o=n.offsetWidth;console.log(i,s,l,c,o);var u=i-l-o/2,p=s-c-o/2;console.log(u,p),n.style.left=u+"px",n.style.top=p+"px",t.appendChild(e),n.classList.add("rippling")}),t.addEventListener("mouseup",function(){})}};a["a"].config.productionTip=!1,a["a"].directive("ripple",Ct),new a["a"]({router:ct,store:_t,render:function(t){return t(j)}}).$mount("#app")},Z0Tf:function(t,e,n){},aMXH:function(t,e,n){},gEUM:function(t,e,n){"use strict";var a=n("7DdV"),i=n.n(a);i.a},mGHb:function(t,e,n){"use strict";var a=n("/hsH"),i=n.n(a);i.a},md7a:function(t,e,n){},oVVd:function(t,e,n){},q8lY:function(t,e,n){},r2iu:function(t,e,n){"use strict";var a=n("aMXH"),i=n.n(a);i.a},zyWh:function(t,e,n){"use strict";var a=n("md7a"),i=n.n(a);i.a}});
//# sourceMappingURL=app.e757c36d.js.map