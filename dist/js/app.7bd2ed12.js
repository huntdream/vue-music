(function(t){function e(e){for(var a,l,r=e[0],o=e[1],c=e[2],p=0,d=[];p<r.length;p++)l=r[p],i[l]&&d.push(i[l][0]),i[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=l(l.s=n[0]))}return t}var a={},i={0:0},s=[];function l(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=a,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(n,a,function(e){return t[e]}.bind(null,a));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=o;s.push([0,1]),n()})({"+KLR":function(t,e,n){"use strict";var a=n("Z0Tf"),i=n.n(a);i.a},"/hsH":function(t,e,n){},0:function(t,e,n){t.exports=n("Vtdi")},"7DdV":function(t,e,n){},PTbu:function(t,e,n){},UjeG:function(t,e,n){},UpYt:function(t,e,n){"use strict";var a=n("UjeG"),i=n.n(a);i.a},Vtdi:function(t,e,n){"use strict";n.r(e);n("yt8O"),n("VRzm");var a=n("Kw5r"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("navbar"),n("div",{staticClass:"container"},[n("router-view")],1),n("Player")],1)},s=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{class:{"top-nav":!0,"no-transparent":this.isAlpha}},[n("router-link",{staticClass:"nav-item",attrs:{to:"/","active-class":"active",exact:""}},[n("span",{staticClass:"nav-icon me"})]),n("router-link",{staticClass:"nav-item",attrs:{exact:"",to:"/music","active-class":"active"}},[n("span",{staticClass:"nav-icon music"})]),n("router-link",{staticClass:"nav-item",attrs:{to:"/community","active-class":"active"}},[n("span",{staticClass:"nav-icon community"})])],1)},r=[],o={name:"Navbar",data:function(){return{isAlpha:!1}},created:function(){window.addEventListener("scroll",this.toggleAlpha)},methods:{toggleAlpha:function(){var t=window.pageYOffset||document.documentElement.scrollTop;this.isAlpha=t>250}},destroyed:function(){window.removeEventListener("scroll",this.toggleAlpha)}},c=o,u=(n("gEUM"),n("KHd+")),p=Object(u["a"])(c,l,r,!1,null,"4b1b6403",null),d=p.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.detail.url?n("div",{class:{player:!0,show:!!t.detail.url}},[n("p",[t._v(t._s(t.detail.name))]),n("audio",{ref:"player",attrs:{src:t.detail?t.detail.url:"",id:"player"}})]):t._e()},m=[],v=n("yT7P"),y=n("L2JU"),h={name:"Player",props:{},data:function(){return{}},computed:Object(v["a"])({},Object(y["b"])({detail:function(t){return t.song.detail}})),watch:{play:function(t,e){var n=this.$refs["player"];t!==e&&(n.load(),n.oncanplay=function(){console.log("playing"),n.play()})}},methods:{onSrChnage:function(){var t=document.querySelector("#player");t.onsr}}},b=h,g=(n("UpYt"),Object(u["a"])(b,f,m,!1,null,"6ae78427",null)),_=g.exports,C={components:{Navbar:d,Player:_}},w=C,O=(n("zyWh"),Object(u["a"])(w,i,s,!1,null,null,null)),j=O.exports,E=n("jE9Z"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.userdetail.code?n("div",{staticClass:"user-wrap"},[n("div",{staticClass:"userdetail-wrap"},[n("div",{staticClass:"userdetail"},[n("img",{staticClass:"user-bg",attrs:{src:t.userdetail.profile.backgroundUrl}}),n("img",{staticClass:"user-avatar",attrs:{src:t.userdetail.profile.avatarUrl,alt:"avatar"}}),n("div",{staticClass:"user-info"},[n("p",{staticClass:"user-info-name"},[t._v("\n                    "+t._s(t.userdetail.profile.nickname)+"\n                ")])])])]),n("div",{staticClass:"user-playlist"},[n("div",{staticClass:"user-custom-playlist"},[t._l(t.userplaylist,function(e,a){return[0===a?n("div",{key:a,staticClass:"playlist-label my-playlist"},[t._v("我创建的歌单")]):t._e(),12===a?n("div",{key:a,staticClass:"playlist-label my-playlist"},[t._v("我收藏的歌单")]):t._e(),n("router-link",{key:e.id,staticClass:"playlist-item",attrs:{to:{name:"playlist",params:{id:e.id}},tag:"div"}},[n("div",{staticClass:"playlist-cover"},[n("img",{attrs:{src:e.coverImgUrl,alt:"cover"}})]),n("div",{staticClass:"playlist-name"},[t._v("\n                        "+t._s(e.name)+"\n                    ")])])]})],2),n("div",{staticClass:"user-subscribed-playlist"})])]):n("spinner")},P=[],$=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner-wrap"},[n("div",{staticClass:"spinner"})])}],S={name:"Spinner"},U=S,L=(n("mGHb"),Object(u["a"])(U,$,k,!1,null,null,null)),M=L.exports,D={name:"Me",components:{Spinner:M},data:function(){return{}},created:function(){this.$store.dispatch("user/detail"),this.$store.dispatch("user/playlist")},computed:Object(v["a"])({},Object(y["b"])({userdetail:function(t){return t.user.detail},userplaylist:function(t){return t.user.playlist},playlistcount:function(t){return t.user.playlistcount}})),methods:{}},T=D,H=(n("+KLR"),Object(u["a"])(T,x,P,!1,null,null,null)),V=H.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Music View")])},G=[],z={name:"Music"},R=z,Z=Object(u["a"])(R,A,G,!1,null,null,null),K=Z.exports,Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Post View")])},J=[],W={name:"Community"},X=W,q=Object(u["a"])(X,Y,J,!1,null,null,null),I=q.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.playlist.name?n("div",{staticClass:"playlist-wrap"},[n("div",{staticClass:"playlist-detail-wrap"},[n("img",{attrs:{src:t.playlist.coverImgUrl,alt:"playlist.name"}}),n("h1",[t._v(t._s(t.playlist.name))])]),n("div",{staticClass:"playlist-tracks-wrap"},[t._l(t.playlist.tracks,function(t){return[n("Song",{key:t.id,attrs:{name:t.name,id:t.id}})]})],2)]):n("spinner")},B=[],F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song",on:{click:function(e){t.play(t.id,t.name)}}},[t._v("\n  "+t._s(t.name)+"\n")])},Q=[],tt={name:"Song",props:["name","id"],computed:Object(v["a"])({},Object(y["b"])({detail:function(t){return t.song.detail}})),methods:{play:function(t,e){this.$store.dispatch("song/detail",{id:t,name:e})}}},et=tt,nt=(n("zZOG"),Object(u["a"])(et,F,Q,!1,null,"12b83b57",null)),at=nt.exports,it={name:"Playlist",components:{Spinner:M,Song:at},data:function(){return{}},created:function(){this.$store.dispatch("playlist/detail",this.$route.params.id)},computed:Object(v["a"])({},Object(y["b"])({playlist:function(t){return t.playlist.detail}})),methods:{}},st=it,lt=(n("r2iu"),Object(u["a"])(st,N,B,!1,null,"b4ae831e",null)),rt=lt.exports;a["a"].use(E["a"]);var ot=new E["a"]({mode:"history",routes:[{path:"/music",name:"music",component:K},{path:"/",name:"me",component:V},{path:"/community",name:"community",component:I},{path:"/playlist/:id",name:"playlist",component:rt}]}),ct=n("vDqi"),ut=n.n(ct);ut.a.defaults.baseURL="https://netease.maoyu.info";var pt=32693089,dt=function(){return ut.a.get("/user/detail?uid=".concat(pt)).then(function(t){return t.data})},ft=function(){return ut.a.get("/user/playlist?uid=".concat(pt)).then(function(t){return t.data})},mt=function(t){return ut.a.get("/playlist/detail?id=".concat(t)).then(function(t){return t.data})},vt=function(t){return ut.a.get("/music/url?id=".concat(t)).then(function(t){return t.data})},yt={namespaced:!0,state:{detail:[],playlist:[],playlistcount:0},mutations:{saveDetail:function(t,e){t.detail=e},savePlaylist:function(t,e){t.playlist=e},setPlaylistCount:function(t,e){t.playlistcount=e}},actions:{detail:function(t){var e=t.commit;return dt().then(function(t){e("saveDetail",t),e("setPlaylistCount",t.profile.playlistCount)})},playlist:function(t){var e=t.commit;return ft().then(function(t){return e("savePlaylist",t.playlist)})}}},ht={namespaced:!0,state:{detail:[]},mutations:{clearDetail:function(t){t.detail=[]},saveDetail:function(t,e){t.detail=e}},actions:{detail:function(t,e){var n=t.commit;return n("clearDetail"),mt(e).then(function(t){return n("saveDetail",t.playlist)})}}},bt=(n("f3/d"),{namespaced:!0,state:{detail:[]},mutations:{detail:function(t,e){t.detail=e}},actions:{detail:function(t,e){var n=t.commit,a=e.id,i=e.name;return console.log(i,a),vt(a).then(function(t){if("number"===typeof a){var e=t.data[0];console.log(e),e.name=i,n("detail",e)}else n("detail",t.data)})}}});a["a"].use(y["a"]);var gt=new y["a"].Store({modules:{user:yt,playlist:ht,song:bt}}),_t={inserted:function(t){var e=document.createElement("div"),n=document.createElement("span");e.appendChild(n),e.classList.add("ripple-container"),n.classList.add("ripple"),t.addEventListener("mousedown",function(a){var i=a.pageX,s=a.pageY,l=t.getBoundingClientRect(),r=l.left,o=l.top,c=n.offsetWidth;console.log(i,s,r,o,c);var u=i-r-c/2,p=s-o-c/2;console.log(u,p),n.style.left=u+"px",n.style.top=p+"px",t.appendChild(e),n.classList.add("rippling")}),t.addEventListener("mouseup",function(){})}};a["a"].config.productionTip=!1,a["a"].directive("ripple",_t),new a["a"]({router:ot,store:gt,render:function(t){return t(j)}}).$mount("#app")},Z0Tf:function(t,e,n){},aMXH:function(t,e,n){},gEUM:function(t,e,n){"use strict";var a=n("7DdV"),i=n.n(a);i.a},mGHb:function(t,e,n){"use strict";var a=n("/hsH"),i=n.n(a);i.a},md7a:function(t,e,n){},r2iu:function(t,e,n){"use strict";var a=n("aMXH"),i=n.n(a);i.a},zZOG:function(t,e,n){"use strict";var a=n("PTbu"),i=n.n(a);i.a},zyWh:function(t,e,n){"use strict";var a=n("md7a"),i=n.n(a);i.a}});
//# sourceMappingURL=app.7bd2ed12.js.map